<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Synthesis Matrix</title>
    <link rel="stylesheet" href="sidepanel.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>Synthesis Matrix Generator</h1>
        </header>

        <main>
            <section class="api-section">
                <h3 id="api-config-toggle" style="margin: 0; color: #333; font-size: 1.2em; cursor: pointer;">
                    API Key Configuration
                    <span id="api-toggle-arrow" style="font-size: 1em; margin-left: 6px;">â–¼</span>
                </h3>
                <p id="api-key-status" style="font-size: 0.85em; color: #4f8cff; margin: 0;"></p>
                <form id="api-key-form" style="display: flex; flex-direction: column;">
                    <label for="api-key-input" style="font-weight: 500; color: #555; margin-top: 16px;">
                        Enter your Gemini API key:</label>
                    <div style="display: flex; align-items: center; gap: 8px; margin-top: 4px;">
                        <input type="password" id="api-key-input" placeholder="Paste your key here..." required
                            style="padding: 8px; border-radius: 4px; border: 1px solid #ccc; font-size: 1em; width: -webkit-fill-available;">
                        <input type="checkbox" id="toggle-api-key-visibility"
                            style="margin-bottom: 0; cursor: pointer; margin-left: 4px;">
                    </div>
                    <div style="font-size: 0.9em; color: #777; margin-bottom: 8px;">
                        Don't have a key? Create one in
                        <a href="https://ai.google.dev/gemini-api/docs/api-key" target="_blank"
                            style="color: #4f8cff; text-decoration: none;">Google AI Studio</a>.
                    </div>
                    <button type="submit"
                        style="background: #4f8cff; color: #fff; margin-top: 4px; border: none; border-radius: 4px; padding: 10px 0; font-size: 1em; cursor: pointer; font-weight: 600;">
                        Save Key To Local Storage!
                    </button>
                </form>
            </section>

            <section class="summary-section">
                <button id="summarizeButton">Generate Summary</button>
                <div id="summaryPointsContainer" class="summary-points">
                    <div id="summaryOutput" class="loading">
                        Waiting for user action...
                    </div>
                </div>
            </section>

            <section class="action-section">
                <button id="generateMatrixButton">Generate Matrix</button>
                <div id="matrixOutput" class="loading"></div>
            </section>
        </main>
    </div>

    <script src="sidepanel.js" type="module"></script>
</body>

</html>