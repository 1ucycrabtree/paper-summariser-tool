<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Synthesis Matrix</title>
    <link rel="stylesheet" href="sidepanel.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <h1>Synthesis Matrix Generator</h1>
        </header>

        <main>
            <div class="top-bar">
                <button id="apiKeyButton">Gemini API Key</button>
                <button id="stopButton" class="stop-button">Stop AI</button>
            </div>

            <section class="instructions-section">
                <h2>Instructions</h2>
                <ol>
                    <li>Enter your Gemini API key in the section below.</li>
                    <li>Click "Generate Summary" to create a summary of the current webpage.</li>
                    <li>Input your research topic and click "Generate Matrix" to create a synthesis matrix.</li>
                </ol>
            </section>

            <section class="summary-section">
                <button id="summarizeButton">Generate Summary</button>
                <div id="summaryPointsContainer" class="summary-points">
                    <div id="summaryOutput" class="loading">
                        Waiting for user action...
                    </div>
                </div>
            </section>

            <section class="matrix-section">
                <input type="text" id="researchTopicInput" placeholder="Enter your research topic..."
                    class="research-topic-input">
                <button id="generateMatrixButton">Generate Matrix</button>
                <div id="matrixOutput" class="loading"></div>
            </section>
        </main>
    </div>

    <script src="sidepanel.js" type="module"></script>
</body>

<div id="apiKeyModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>API Key Configuration</h2>
            <button class="close-modal" id="closeModal">&times;</button>
        </div>
        <form id="api-key-form">
            <p id="api-key-status"></p>
            <form id="api-key-form">
                <label for="api-key-input">
                    Enter your Gemini API key:</label>
                <div class="api-key-input-container">
                    <input type="password" id="api-key-input" placeholder="Paste your key here..." required>
                    <input type="checkbox" id="toggle-api-key-visibility">
                </div>
                <div class="api-key-help-text">
                    Don't have a key? Create one in
                    <a href="https://ai.google.dev/gemini-api/docs/api-key" target="_blank">Google AI
                        Studio</a>.
                </div>
                <button type="submit">
                    Save Key To Local Storage!
                </button>
            </form>
    </div>
</div>

</html>